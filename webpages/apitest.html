<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="assets/reset.css" rel="stylesheet" />
<link href="assets/common.css" rel="stylesheet" />
<script src="lib/es6promise.min.js"></script>
<script src="lib/fetch.min.js"></script>
<script src="lib/vue.min.js"></script>
</head>
<body>
<div id="app">
    <app></app>
</div>
<script>var VUE_APP=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}({0:function(t,e,n){var r,i;n(126),r=n(128),i=n(129),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)},3:function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},4:function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=u[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(c(r.parts[a],e))}else{for(var o=[],a=0;a<r.parts.length;a++)o.push(c(r.parts[a],e));u[r.id]={id:r.id,refs:1,parts:o}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],a=i[0],o=i[1],s=i[2],c=i[3],d={css:o,media:s,sourceMap:c};n[a]?n[a].parts.push(d):e.push(n[a]={id:a,parts:[d]})}return e}function a(t,e){var n=h(),r=m[m.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function o(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",a(t,e),e}function c(t,e){var n,r,i;if(e.singleton){var a=b++;n=v||(v=s(e)),r=d.bind(null,n,a,!1),i=d.bind(null,n,a,!0)}else n=s(e),r=l.bind(null,n),i=function(){o(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function d(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var a=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function l(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,b=0,m=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var a=[],o=0;o<n.length;o++){var s=n[o],c=u[s.id];c.refs--,a.push(c)}if(t){var d=i(t);r(d,e)}for(var o=0;o<a.length;o++){var c=a[o];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete u[c.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},95:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.host={NODE_ENV:"production",host:""}.host},126:function(t,e,n){var r=n(127);"string"==typeof r&&(r=[[t.id,r,""]]);n(4)(r,{});r.locals&&(t.exports=r.locals)},127:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,"h1[_v-2056b098]{font-size:30px;color:#fff;margin:10px}h2[_v-2056b098]{font-size:26px;color:#ddd;margin:20px}h3[_v-2056b098]{font-size:20px;color:#ddd;margin:25px}form>div[_v-2056b098]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:30px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}input[_v-2056b098]{width:200px;border:1px solid #fff;padding:5px;margin:5px;display:inline-block;font-size:14px}label[_v-2056b098]{font-size:20px;color:#bbb;padding:10px;display:inline-block}.btn[_v-2056b098],.submit[_v-2056b098]{border-radius:4px;border:1px solid #fff;font-size:14px;padding:5px;margin:5px;background-color:#fff;cursor:pointer}.submit[_v-2056b098]{width:40%;display:block;box-sizing:border-box;margin:10px auto;text-align:center;font-size:20px;background-color:green;cursor:pointer}pre[_v-2056b098]{width:80%;min-height:100px;box-sizing:border-box;margin:20px auto;border:1px solid #ddd;padding:10px;font-size:15px;background-color:#bbb;color:#333;word-break:break-all}",""])},128:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(95),i=window,a=i.JSON,o=i.Promise;e["default"]={data:function(){return{api:"",method:"GET",qslist:[{name:"",value:""}],datalist:[{name:"",value:""}],captchaSrc:"",captchaId:"",captcha:"",result:""}},ready:function(){this.refreshCaptcha()},methods:{addqs:function(){this.qslist.push({name:"",text:""})},adddata:function(){this.datalist.push({name:"",text:""})},request:function(t){var e=this;if(""!==this.api){var n=this.qslist.filter(function(t){var e=t.name,n=t.value;return e&&n}).map(function(t){var e=t.name,n=t.value;return e+"="+encodeURIComponent(n)}),i={};this.datalist.filter(function(t){var e=t.name,n=t.value;return e&&n}).reduce(function(t,e){return t[e.name]=e.value,t},i);var s={method:t,mode:"cors",credentials:"include"};"POST"===t?(this.captcha&&(i.captcha=this.captcha,i.captchaId=this.captchaId),s.body=a.stringify(i)):"GET"===t&&this.captcha&&n.push("captcha="+this.captcha,"captchaId="+this.captchaId),fetch(""+r.host+this.api+"?__"+Date.now()+"__&"+n.join("&"),s).then(function(t){return t.ok?t.json():o.reject({url:t.url,status:t.status,statusText:t.statusText})}).then(function(t){e.result=a.stringify(t,null,"  ")})["catch"](function(t){e.result=a.stringify(t,null,"  ")})}},checkCaptcha:function(){var t=this,e=r.host+"/common/checkcaptcha";fetch(e+"?captchaId="+this.captchaId+"&captcha="+this.captcha,{credentials:"include"}).then(function(t){return t.ok?t.json():o.reject({url:t.url,status:t.status,statusText:t.statusText})}).then(function(e){t.result=a.stringify(e,null,"  ")})["catch"](function(e){t.result=a.stringify(e,null,"  ")})},refreshCaptcha:function(){var t=this;fetch(r.host+"/common/captcha.png",{credentials:"include"}).then(function(e){return t.captchaId=e.headers.get("id"),e.blob()}).then(function(e){t.captchaSrc=URL.createObjectURL(e)})}}}},129:function(t,e){t.exports=' <h1 _v-2056b098="">API测试</h1> <form _v-2056b098=""> <h2 _v-2056b098="">定义</h2> <div _v-2056b098=""> <input style="width: 400px" type=text placeholder=输入API名称，例如/common/checkcaptcha v-model=api _v-2056b098=""> </div> <h3 _v-2056b098="">qs参数</h3> <div v-for="item in qslist" track-by=$index _v-2056b098=""> <input v-model=item.name type=text placeholder=参数名 _v-2056b098=""> <input v-model=item.value type=text placeholder=参数值 _v-2056b098=""> </div> <div _v-2056b098=""><a class=btn @click=addqs _v-2056b098="">增加qs参数</a></div> <h3 _v-2056b098="">data参数</h3> <div v-for="item in datalist" track-by=$index _v-2056b098=""> <input v-model=item.name type=text placeholder=参数名 _v-2056b098=""> <input v-model=item.value type=text placeholder=参数值 _v-2056b098=""> </div> <div _v-2056b098=""><a class=btn @click=adddata _v-2056b098="">增加data参数</a></div> </form> <form _v-2056b098=""> <h2 _v-2056b098="">验证码</h2> <div _v-2056b098=""> <input v-model=captcha placeholder=请输入验证码 type=text _v-2056b098=""> <img :src=captchaSrc _v-2056b098=""> <a class=btn @click=refreshCaptcha _v-2056b098="">刷新</a> </div> <div _v-2056b098=""> <a class=submit @click="request(\'GET\')" _v-2056b098="">GET请求</a> <a class=submit @click="request(\'POST\')" _v-2056b098="">POST请求</a> </div> </form> <pre _v-2056b098="">{{result}}</pre> '}});</script>
<script>
(function(Vue, app) {
    new Vue({
        el: '#app',
        components: {
            app: app
        }
    });
})(window.Vue, window.VUE_APP);
</script>
</body>
</html>